<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  {% load static %}
  <script type="text/javascript" src="https://d3js.org/d3.v7.min.js"></script>
  <link rel="stylesheet" href="{% static 'styles.css' %}">
  <title>GraphVisualizer</title>
</head>

<body>
  <div class="page">
    <div class="header">
      <div class="left-header">
        <a href="{% url 'index' %}">Graph Visualizer</a>
        <div class="views">
          <a href="{% url 'block_visualizer' ws_id=ws_id %}"><button name="block-view">Block view</button></a>
          <a class="simple" href="{% url 'simple_visualizer' ws_id=ws_id %}"><button class="simple-button" name="simple-view">Simple
              view</button></a>
        </div>
      </div>
      <div class="rigth-header">
        <form id="uploadForm" method="post" enctype="multipart/form-data" action="{% url 'load_file' ws_id=ws_id %}">
          <div class="top-query">
            {% csrf_token %}
            <label>File:</label>
             {% if selected_file_name %}
            <span style="margin-left: px; font-weight: bold;">
              {{ selected_file_name }}
            </span>
            {% endif %}
            <input type="file" name="load_file" onchange="document.getElementById('uploadForm').submit();" style="width: 75px; ">
        </form>
        <form id="resetGraphForm" method="post" action="{% url 'reset_graph' ws_id=ws_id %}">
          {% csrf_token %}
          <button type="submit">Reset graph</button>
        </form>
        <form id="searchForm" method="post" action="{% url 'query_search' ws_id=ws_id %}">
          {% csrf_token %}
          <label for="search">Search:</label>
          <input type="text" id="search" name="search" />
          <button type="submit">Search</button>
        </form>
      </div>
      <div class="mid-query">
        <form id="searchForm" method="post" action="{% url 'query_filter' ws_id=ws_id %}">
          {% csrf_token %}
          <label>Filter:</label>
          <input name="filter"></input>
          <select id="relations" name="relations">
            <option value="=">=</option>
            <option value="<">&lt;</option>
            <option value=">">&gt;</option>
            <option value="<=">&le;</option>
            <option value=">=">&ge;</option>
          </select>
          <input name="value"></input>
          <button type="submit">Apply filter</button>
        </form>
      </div>
      <div class="bottom-query">
        <label for="applied-queries">Applied queries:</label>
        {% block filters %}{% endblock %}
      </div>
    </div>
  </div>
  <div class="main">
    <div class="left">
      <div class="top">{% block treeView %}{% endblock %}</div>
      <div class="bottom">{% block birdView %}{% endblock %}</div>
    </div>
    <div class="center">{% block mainView %}{% endblock %}</div>
  </div>
  <div class="footer">
            {% block terminal %}{% endblock %}
        </div>
        
  </div>
  <div class="workspaces">
    <a href="{% url 'workspace_switch' ws_id=1 %}"><button class="workspace-tab {% if ws_id == 1 %}active{% endif %}">Workspace 1</button></a>
    <a href="{% url 'workspace_switch' ws_id=2 %}"><button class="workspace-tab {% if ws_id == 2 %}active{% endif %}">Workspace 2</button></a>
    <a href="{% url 'workspace_switch' ws_id=3 %}"><button class="workspace-tab {% if ws_id == 3 %}active{% endif %}">Workspace 3</button></a>
    <a href="{% url 'workspace_switch' ws_id=4 %}"><button class="workspace-tab {% if ws_id == 4 %}active{% endif %}">Workspace 4</button></a>
    <a href="{% url 'workspace_switch' ws_id=5 %}"><button class="workspace-tab {% if ws_id == 5 %}active{% endif %}">Workspace 5</button></a>
  </div>
</body>
</html>